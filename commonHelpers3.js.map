{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      setTimeout(() => {\n        resolve({ position, delay });\n      }, delay);\n    } else {\n      setTimeout(() => {\n        reject({ position, delay });\n      }, delay);\n    }\n  });\n}\n\nconst allFields = document.querySelector('.form');\nconst btnSubmit = document.querySelector('button[type=\"submit\"]');\n\nfunction clearForm() {\n  allFields.reset();\n}\n\nallFields.addEventListener('submit', function (evt) {\n  evt.preventDefault();\n\n  btnSubmit.disabled = true;\n\n  const firstDelayValue = Number(document.getElementsByName('delay')[0].value);\n  const delayStepValue = Number(document.getElementsByName('step')[0].value);\n  const amountValue = Number(document.getElementsByName('amount')[0].value);\n\n  for (let i = 1; i <= amountValue; i++) {\n    const delay = firstDelayValue + (i - 1) * delayStepValue;\n\n    createPromise(i, delay)\n      .then(({ position, delay }) => {\n        iziToast.success({\n          title: `✅ `,\n          message: `Fulfilled promise ${position} in ${delay}ms`,\n          position: 'center',\n        });\n      })\n      .catch(({ position, delay }) => {\n        iziToast.error({\n          title: `❌ `,\n          message: `Rejected promise ${position} in ${delay}ms`,\n          position: 'center',\n        });\n      });\n  }\n  setTimeout(() => {\n    clearForm();\n    btnSubmit.disabled = false;\n  }, 10000);\n});\n"],"names":["createPromise","position","delay","resolve","reject","shouldResolve","allFields","btnSubmit","clearForm","evt","firstDelayValue","delayStepValue","amountValue","i","iziToast"],"mappings":"wIAGA,SAASA,EAAcC,EAAUC,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GAEpC,WADEA,EACS,IAAM,CACfF,EAAQ,CAAE,SAAAF,EAAU,MAAAC,CAAK,CAAE,CAC5B,EAEU,IAAM,CACfE,EAAO,CAAE,SAAAH,EAAU,MAAAC,CAAK,CAAE,CAC3B,EAJEA,CAAK,CAMd,CAAG,CACH,CAEA,MAAMI,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAY,SAAS,cAAc,uBAAuB,EAEhE,SAASC,GAAY,CACnBF,EAAU,MAAK,CACjB,CAEAA,EAAU,iBAAiB,SAAU,SAAUG,EAAK,CAClDA,EAAI,eAAc,EAElBF,EAAU,SAAW,GAErB,MAAMG,EAAkB,OAAO,SAAS,kBAAkB,OAAO,EAAE,GAAG,KAAK,EACrEC,EAAiB,OAAO,SAAS,kBAAkB,MAAM,EAAE,GAAG,KAAK,EACnEC,EAAc,OAAO,SAAS,kBAAkB,QAAQ,EAAE,GAAG,KAAK,EAExE,QAASC,EAAI,EAAGA,GAAKD,EAAaC,IAAK,CACrC,MAAMX,EAAQQ,GAAmBG,EAAI,GAAKF,EAE1CX,EAAca,EAAGX,CAAK,EACnB,KAAK,CAAC,CAAE,SAAAD,EAAU,MAAAC,KAAY,CAC7BY,EAAS,QAAQ,CACf,MAAO,KACP,QAAS,qBAAqBb,QAAeC,MAC7C,SAAU,QACpB,CAAS,CACT,CAAO,EACA,MAAM,CAAC,CAAE,SAAAD,EAAU,MAAAC,KAAY,CAC9BY,EAAS,MAAM,CACb,MAAO,KACP,QAAS,oBAAoBb,QAAeC,MAC5C,SAAU,QACpB,CAAS,CACT,CAAO,CACJ,CACD,WAAW,IAAM,CACfM,IACAD,EAAU,SAAW,EACtB,EAAE,GAAK,CACV,CAAC"}