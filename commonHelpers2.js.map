{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport iziToast from 'izitoast';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst date = document.querySelector('#datetime-picker');\nconst btn = document.querySelector('[data-start]');\nconst day = document.querySelector('[data-days]');\nconst hrs = document.querySelector('[data-hours]');\nconst min = document.querySelector('[data-minutes]');\nconst sec = document.querySelector('[data-seconds]');\n\nlet timerInterval = null;\n\nbtn.disabled = true;\n\nflatpickr(date, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] <= Date.now()) {\n      iziToast.warning({\n        title: 'Caution',\n        message: 'please select an upcoming date ðŸ“†',\n        position: 'topCenter',\n      });\n      btn.disabled = true;\n    } else {\n      btn.disabled = false;\n      iziToast.info({\n        title: 'Right',\n        message: 'now you are good to go ðŸŸ¢',\n        position: 'topCenter',\n      });\n    }\n  },\n});\n\nbtn.addEventListener('click', () => {\n  const currentDate = new Date();\n  const selectedDate = new Date(date.value);\n\n  let timeRemaining = selectedDate - currentDate;\n\n  timerInterval = setInterval(() => {\n    updateTimer((timeRemaining -= 1000));\n  }, 1000);\n\n  btn.disabled = true;\n  date.disabled = true;\n});\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = addLeadingZero(Math.floor(ms / day));\n  const hours = addLeadingZero(Math.floor((ms % day) / hour));\n  const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n  const seconds = addLeadingZero(\n    Math.floor((((ms % day) % hour) % minute) / second)\n  );\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n\nfunction updateTimer(ms) {\n  const { days, hours, minutes, seconds } = convertMs(ms);\n\n  if (ms <= 1000) {\n    clearInterval(timerInterval);\n    btn.disabled = false;\n    iziToast.success({\n      title: 'OK',\n      message: 'Now you are done âœ…',\n      position: 'topCenter',\n    });\n    btn.disabled = true;\n    date.disabled = false;\n  }\n\n  // Update DOM elements\n  day.textContent = days;\n  hrs.textContent = hours;\n  min.textContent = minutes;\n  sec.textContent = seconds;\n}\n"],"names":["date","btn","day","hrs","min","sec","timerInterval","flatpickr","selectedDates","iziToast","currentDate","timeRemaining","updateTimer","convertMs","ms","days","addLeadingZero","hours","minutes","seconds","value"],"mappings":"+IAKA,MAAMA,EAAO,SAAS,cAAc,kBAAkB,EAChDC,EAAM,SAAS,cAAc,cAAc,EAC3CC,EAAM,SAAS,cAAc,aAAa,EAC1CC,EAAM,SAAS,cAAc,cAAc,EAC3CC,EAAM,SAAS,cAAc,gBAAgB,EAC7CC,EAAM,SAAS,cAAc,gBAAgB,EAEnD,IAAIC,EAAgB,KAEpBL,EAAI,SAAW,GAEfM,EAAUP,EAAM,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQQ,EAAe,CACjBA,EAAc,IAAM,KAAK,IAAG,GAC9BC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,oCACT,SAAU,WAClB,CAAO,EACDR,EAAI,SAAW,KAEfA,EAAI,SAAW,GACfQ,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,4BACT,SAAU,WAClB,CAAO,EAEJ,CACH,CAAC,EAEDR,EAAI,iBAAiB,QAAS,IAAM,CAClC,MAAMS,EAAc,IAAI,KAGxB,IAAIC,EAFiB,IAAI,KAAKX,EAAK,KAAK,EAELU,EAEnCJ,EAAgB,YAAY,IAAM,CAChCM,EAAaD,GAAiB,IAC/B,EAAE,GAAI,EAEPV,EAAI,SAAW,GACfD,EAAK,SAAW,EAClB,CAAC,EAED,SAASa,EAAUC,EAAI,CAMrB,MAAMC,EAAOC,EAAe,KAAK,MAAMF,EAAK,KAAG,CAAC,EAC1CG,EAAQD,EAAe,KAAK,MAAOF,EAAK,MAAO,IAAI,CAAC,EACpDI,EAAUF,EAAe,KAAK,MAAQF,EAAK,MAAO,KAAQ,GAAM,CAAC,EACjEK,EAAUH,EACd,KAAK,MAASF,EAAK,MAAO,KAAQ,IAAU,GAAM,CACtD,EAEE,MAAO,CAAE,KAAAC,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASH,EAAeI,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAEA,SAASR,EAAYE,EAAI,CACvB,KAAM,CAAE,KAAAC,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,GAAYN,EAAUC,CAAE,EAElDA,GAAM,MACR,cAAcR,CAAa,EAC3BL,EAAI,SAAW,GACfQ,EAAS,QAAQ,CACf,MAAO,KACP,QAAS,qBACT,SAAU,WAChB,CAAK,EACDR,EAAI,SAAW,GACfD,EAAK,SAAW,IAIlBE,EAAI,YAAca,EAClBZ,EAAI,YAAcc,EAClBb,EAAI,YAAcc,EAClBb,EAAI,YAAcc,CACpB"}